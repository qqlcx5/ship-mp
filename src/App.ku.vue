<script setup lang="ts">
import { ref } from 'vue'
import FgTabbar from '@/tabbar/index.vue'
import { isPageTabbar } from './tabbar/store'
import { currRoute } from './utils'

const isCurrentPageTabbar = ref(true)
onShow(() => {
  console.log('App.ku.vue onShow', currRoute())
  const { path } = currRoute()
  isCurrentPageTabbar.value = isPageTabbar(path)
  console.log(`ğŸš€ - isPageTabbar(path):`, isPageTabbar(path), path)
})

const helloKuRoot = ref('Hello AppKuVue')

const exposeRef = ref('this is form app.Ku.vue')

defineExpose({
  exposeRef,
})
</script>

<template>
  <!-- è¿™ä¸ªå…ˆéšè—äº†ï¼ŒçŸ¥é“è¿™æ ·ç”¨å°±è¡Œ -->
  <view class="hidden text-center">
    {{ helloKuRoot }}ï¼Œè¿™é‡Œå¯ä»¥é…ç½®å…¨å±€çš„ä¸œè¥¿
  </view>
  <sar-toast-agent />
  <sar-dialog-agent />
  <sar-notify-agent />
  <KuRootView />

  <FgTabbar v-if="isCurrentPageTabbar" />
</template>
